{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/modules/es.array.some.js","webpack:///./src/pages/ReglamentReview.vue?45e1","webpack:///src/pages/ReglamentReview.vue","webpack:///./src/pages/ReglamentReview.vue?fce4","webpack:///./src/pages/ReglamentReview.vue","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/pages/ReglamentReview.vue?21b0","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","this","indexOf","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","$some","some","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","callbackfn","render","_vm","_h","$createElement","_c","_self","staticClass","_v","directives","name","rawName","value","reglament","expression","attrs","domProps","on","$event","composing","$set","_s","content","class","active","tab","revision","approve","_l","comment","key","secret_id","scopedSlots","_u","fn","proxy","_e","staticRenderFns","components","props","id","required","type","computed","data","created","getReglament","mounted","qlEditor","addEventListener","holdTime","watch","setContent","num","lastNum","showPopover","$nextTick","methods","validate","status","getChoosenText","text","replace","htmltemplate","setTimeout","html_selection","default_text","saveInfo","info","$refs","vueditor","getContent","parts","label","mainService","saveReglaments","component","TypeError","METHOD_NAME","regexp","e","f","$includes","addToUnscopables","ACCESSORS","1","el"],"mappings":"gHACA,IAAIA,EAAI,EAAQ,QACZC,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QACjCC,EAAuB,EAAQ,QAInCH,EAAE,CAAEI,OAAQ,SAAUC,OAAO,EAAMC,QAASH,EAAqB,aAAe,CAC9EI,SAAU,SAAkBC,GAC1B,SAAUC,OAAOP,EAAuBQ,OACrCC,QAAQV,EAAWO,GAAeI,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,uBCX/E,IAAIC,EAAW,EAAQ,QACnBC,EAAU,EAAQ,QAClBC,EAAkB,EAAQ,QAE1BC,EAAQD,EAAgB,SAI5BE,EAAOC,QAAU,SAAUC,GACzB,IAAIC,EACJ,OAAOP,EAASM,UAAmCP,KAA1BQ,EAAWD,EAAGH,MAA0BI,EAA0B,UAAfN,EAAQK,M,oCCTtF,IAAIrB,EAAI,EAAQ,QACZuB,EAAQ,EAAQ,QAAgCC,KAChDC,EAAsB,EAAQ,QAC9BC,EAA0B,EAAQ,QAElCC,EAAgBF,EAAoB,QACpCG,EAAiBF,EAAwB,QAI7C1B,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,QAASqB,IAAkBC,GAAkB,CAC7EJ,KAAM,SAAcK,GAClB,OAAON,EAAMb,KAAMmB,EAAYjB,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,oECbzE,IAAIgB,EAAS,WAAa,IAAIC,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,cAAc,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyB,CAACL,EAAIM,GAAG,6BAA6BH,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,QAAQ,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOV,EAAIW,UAAc,KAAEC,WAAW,mBAAmBP,YAAY,mBAAmBQ,MAAM,CAAC,KAAO,OAAO,SAAW,GAAG,YAAc,+BAA+BC,SAAS,CAAC,MAASd,EAAIW,UAAc,MAAGI,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3C,OAAO4C,WAAqBjB,EAAIkB,KAAKlB,EAAIW,UAAW,OAAQK,EAAO3C,OAAOqC,aAAaP,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,MAAM,CAACE,YAAY,yBAAyBS,SAAS,CAAC,UAAYd,EAAImB,GAAGnB,EAAIoB,cAAcjB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACL,EAAIM,GAAG,aAAaH,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoBgB,MAAM,CAAEC,OAAkB,IAAVtB,EAAIuB,KAAUR,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAIuB,IAAI,KAAK,CAACpB,EAAG,MAAM,CAACE,YAAY,4BAA4B,CAACL,EAAIM,GAAG,4BAA4BH,EAAG,MAAM,CAACE,YAAY,oBAAoBgB,MAAM,CAAEC,OAAkB,IAAVtB,EAAIuB,KAAUR,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAIuB,IAAI,KAAK,CAACpB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,QAAQH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,uCAAuCH,EAAG,MAAM,CAACE,YAAY,oBAAoBgB,MAAM,CAAEC,OAAkB,IAAVtB,EAAIuB,KAAUR,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAIuB,IAAI,KAAK,CAACpB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,QAAQH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,sCAAsCH,EAAG,MAAM,CAACE,YAAY,oBAAoBgB,MAAM,CAAEC,OAAkB,IAAVtB,EAAIuB,KAAUR,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAIuB,IAAI,KAAK,CAACpB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,QAAQH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,4CAA4CH,EAAG,MAAM,CAACE,YAAY,oBAAoBgB,MAAM,CAAEC,OAAkB,IAAVtB,EAAIuB,KAAUR,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAIuB,IAAI,KAAK,CAACpB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,QAAQH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,sCAAsCH,EAAG,MAAM,CAACE,YAAY,oBAAoBgB,MAAM,CAAEC,OAAkB,IAAVtB,EAAIuB,KAAUR,GAAG,CAAC,MAAQ,SAASC,GAAQhB,EAAIuB,IAAI,KAAK,CAACpB,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,QAAQH,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACL,EAAIM,GAAG,wDAAwDH,EAAG,cAAc,CAACE,YAAY,eAAe,CAACF,EAAG,SAAS,CAACY,GAAG,CAAC,MAAQf,EAAIwB,WAAW,CAACxB,EAAIM,GAAG,4BAA4BH,EAAG,SAAS,CAACE,YAAY,OAAOU,GAAG,CAAC,MAAQf,EAAIyB,UAAU,CAACzB,EAAIM,GAAG,mBAAoBN,EAAe,YAAEG,EAAG,MAAMH,EAAI0B,GAAI1B,EAAY,UAAE,SAAS2B,GAAS,OAAOxB,EAAG,MAAM,CAACyB,IAAID,EAAQE,WAAW,CAAC1B,EAAG,YAAY,CAACU,MAAM,CAAC,OAASc,EAAQE,UAAY,WAAW,SAAW,QAAQ,UAAY,OAAOC,YAAY9B,EAAI+B,GAAG,CAAC,CAACH,IAAI,QAAQI,GAAG,WAAW,MAAO,CAAChC,EAAIM,GAAG,iBAAiB2B,OAAM,IAAO,MAAK,IAAO,CAAC9B,EAAG,WAAW,CAACI,WAAW,CAAC,CAACC,KAAK,QAAQC,QAAQ,UAAUC,MAAOiB,EAAe,QAAEf,WAAW,oBAAoBP,YAAY,QAAQS,SAAS,CAAC,MAASa,EAAe,SAAGZ,GAAG,CAAC,MAAQ,SAASC,GAAWA,EAAO3C,OAAO4C,WAAqBjB,EAAIkB,KAAKS,EAAS,UAAWX,EAAO3C,OAAOqC,cAAc,MAAK,GAAGV,EAAIkC,MAAM,IACzuGC,EAAkB,G,kGC8FtB,G,8BAAA,CACE3B,KAAM,kBACN4B,WAAY,GAIZC,MAAO,CACLC,GAAI,CACFC,UAAU,EACVC,KAAM9D,SAGV+D,SAAU,OAAZ,OAAY,CAAZ,GACA,yBACA,iBAGEC,KAAM,WAAR,OACA,eACA,WACA,WACA,WACA,WACA,WACA,WACA,WACA,QACA,WACA,MACA,WACA,QACA,OACA,6BACA,yBACA,yBACA,yBACA,yBACA,2BAGA,eACA,cAEEC,QA3CF,WA4CQhE,KAAK2D,IACP3D,KAAKiE,gBAGTC,QAhDF,WAgDA,WACA,uCACIC,EAASC,iBAAiB,aAAa,WACrC,EAAN,wBAEID,EAASC,iBAAiB,WAAW,WACnC,IAAN,yBACM,EAAN,eACUC,EAAW,KACb,EAAR,qBAIEC,MAAO,CACL1B,IADJ,SACA,gBACM5C,KAAKuE,WAAWC,EAAKC,GACrBzE,KAAK0E,aAAc,EACnB1E,KAAK2E,WAAU,WACb,EAAR,oBAIEC,QAAS,CACPC,SADJ,SACA,cACA,kCACQ,OAAO7B,EAAQJ,MAAQ,EAA/B,qCAEM,OAAOkC,GAETC,eAPJ,WAOA,WACA,8EACM,IAAI/E,KAAK6E,SAASG,GAAlB,CAIA,IAAN,6HACMhF,KAAKyC,QAAUzC,KAAKyC,QAAQwC,QAAQD,EAAME,GAC1CC,YAAW,WACT,EAAR,eACUC,eAAgBF,EAChBhC,UAAW,EAArB,mBACUF,QAAS,GACTJ,IAAK,EAAf,IACUyC,aAAcL,MAExB,OAEIM,SAzBJ,SAyBA,GACMtF,KAAKuF,KAAKf,GAAOxE,KAAKwF,MAAMC,SAASC,cAEvCnB,WA5BJ,SA4BA,KACsB,IAAZE,EACFzE,KAAKgC,UAAU2D,MAAMC,MAAMZ,KAAOhF,KAAKyC,QAEvCzC,KAAKgC,UAAU2D,MAAM,OAA7B,6BAGM3F,KAAKyC,QAAuB,IAAbzC,KAAK4C,IAAY5C,KAAKgC,UAAU2D,MAAMC,MAAMZ,KAAOhF,KAAKgC,UAAU2D,MAAM,OAA7F,iBAEI1B,aArCJ,WAqCA,WACM4B,EAAN,2BACA,kBAAQ,IAAR,SACQ,EAAR,eACQ,EAAR,gGAGIC,eA5CJ,WA6CuB,IAAb9F,KAAK4C,IACP5C,KAAKgC,UAAU2D,MAAMC,MAAMZ,KAAOhF,KAAKyC,QAEvCzC,KAAKgC,UAAU2D,MAAM,OAA7B,oCAGU3F,KAAK2D,GACPkC,EAAR,qCAEQA,EAAR,oCAGIhD,SAzDJ,WAyDA,WACMgD,EAAN,sCACA,iBACQ,EAAR,mBAGI/C,QA/DJ,WA+DA,WACM+C,EAAN,0CACA,iBACQ,EAAR,sBCvOyV,I,wBCQrVE,EAAY,eACd,EACA3E,EACAoC,GACA,EACA,KACA,KACA,MAIa,aAAAuC,E,gCCnBf,IAAInF,EAAW,EAAQ,QAEvBH,EAAOC,QAAU,SAAUC,GACzB,GAAIC,EAASD,GACX,MAAMqF,UAAU,iDAChB,OAAOrF,I,oCCLX,yBAAohB,EAAG,G,qBCAvhB,IAAIJ,EAAkB,EAAQ,QAE1BC,EAAQD,EAAgB,SAE5BE,EAAOC,QAAU,SAAUuF,GACzB,IAAIC,EAAS,IACb,IACE,MAAMD,GAAaC,GACnB,MAAOC,GACP,IAEE,OADAD,EAAO1F,IAAS,EACT,MAAMyF,GAAaC,GAC1B,MAAOE,KACT,OAAO,I,kCCZX,IAAI9G,EAAI,EAAQ,QACZ+G,EAAY,EAAQ,QAA+BxG,SACnDyG,EAAmB,EAAQ,QAC3BtF,EAA0B,EAAQ,QAElCE,EAAiBF,EAAwB,UAAW,CAAEuF,WAAW,EAAMC,EAAG,IAI9ElH,EAAE,CAAEI,OAAQ,QAASC,OAAO,EAAMC,QAASsB,GAAkB,CAC3DrB,SAAU,SAAkB4G,GAC1B,OAAOJ,EAAUrG,KAAMyG,EAAIvG,UAAUC,OAAS,EAAID,UAAU,QAAKE,MAKrEkG,EAAiB","file":"js/chunk-8711efb2.1e9ff0b4.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $some = require('../internals/array-iteration').some;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('some');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('some');\n\n// `Array.prototype.some` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.some\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH }, {\n  some: function some(callbackfn /* , thisArg */) {\n    return $some(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pb-4\"},[_c('b-container',{staticClass:\"pt-2\"},[_c('div',{staticClass:\"mb-5 large-title mt-5\"},[_vm._v(\"Согласование регламента\")]),_c('div',{staticClass:\"mb-5\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.reglament.name),expression:\"reglament.name\"}],staticClass:\"serchInput w-100\",attrs:{\"type\":\"text\",\"readonly\":\"\",\"placeholder\":\"Введите название регламента\"},domProps:{\"value\":(_vm.reglament.name)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.reglament, \"name\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex \"},[_c('div',{staticClass:\"h600 w-100\"},[_c('div',{staticClass:\"w-100 ql-editor custom\",domProps:{\"innerHTML\":_vm._s(_vm.content)}})]),_c('div',{staticClass:\"items\"},[_c('div',{staticClass:\"md-title ml-3\"},[_vm._v(\"Разделы\")]),_c('div',{staticClass:\"mt-4 ml-2\"},[_c('div',{staticClass:\"cursor-pointer it\",class:{ active: _vm.tab===0 },on:{\"click\":function($event){_vm.tab=0}}},[_c('div',{staticClass:\"d-inline-block ml-2 pl-1\"},[_vm._v(\" Заголовок документа\")])]),_c('div',{staticClass:\"cursor-pointer it\",class:{ active: _vm.tab===1 },on:{\"click\":function($event){_vm.tab=1}}},[_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\"1.\")]),_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\" Cтандарт предоставления услуги\")])]),_c('div',{staticClass:\"cursor-pointer it\",class:{ active: _vm.tab===2 },on:{\"click\":function($event){_vm.tab=2}}},[_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\"2.\")]),_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\" Формы контроля за исполнением\")])]),_c('div',{staticClass:\"cursor-pointer it\",class:{ active: _vm.tab===3 },on:{\"click\":function($event){_vm.tab=3}}},[_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\"3.\")]),_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\" Состав, последовательность действий\")])]),_c('div',{staticClass:\"cursor-pointer it\",class:{ active: _vm.tab===4 },on:{\"click\":function($event){_vm.tab=4}}},[_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\"4.\")]),_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\" Формы контроля за исполнением\")])]),_c('div',{staticClass:\"cursor-pointer it\",class:{ active: _vm.tab===5 },on:{\"click\":function($event){_vm.tab=5}}},[_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\"5.\")]),_c('div',{staticClass:\"d-inline-block\"},[_vm._v(\" Досудебный порядок обжалования решений \")])])])])])]),_c('b-container',{staticClass:\"text-center\"},[_c('button',{on:{\"click\":_vm.revision}},[_vm._v(\"Отправить на доработку\")]),_c('button',{staticClass:\"ml-4\",on:{\"click\":_vm.approve}},[_vm._v(\"Согласовать\")])]),(_vm.showPopover)?_c('div',_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.secret_id},[_c('b-popover',{attrs:{\"target\":comment.secret_id + '-comment',\"triggers\":\"click\",\"placement\":\"top\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Комментарий\")]},proxy:true}],null,true)},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(comment.comment),expression:\"comment.comment\"}],staticClass:\"txtar\",domProps:{\"value\":(comment.comment)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(comment, \"comment\", $event.target.value)}}})])],1)}),0):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"pb-4\">\r\n    <b-container class=\"pt-2\">\r\n      <div class=\"mb-5 large-title mt-5\">Согласование регламента</div>\r\n\r\n      <div class=\"mb-5\">\r\n        <input type=\"text\" readonly v-model=\"reglament.name\" class=\"serchInput w-100\" placeholder=\"Введите название регламента\">\r\n      </div >\r\n\r\n      <div class=\"d-flex \">\r\n        <div class=\"h600 w-100\">\r\n          <div  class=\"w-100 ql-editor custom\" v-html=\"content\"></div>\r\n          <!-- <quillEditor ref=\"ql\" class=\"w-100\" :disabled=\"true\" :options=\"{modules: {toolbar: false}}\" v-model=\"content\"></quillEditor> -->\r\n        </div>\r\n\r\n        <div class=\"items\">\r\n          <div class=\"md-title ml-3\">Разделы</div>\r\n          <div class=\"mt-4 ml-2\">\r\n            <div class=\"cursor-pointer it\" :class=\"{ active: tab===0 }\"  @click=\"tab=0\">\r\n              <div class=\"d-inline-block ml-2 pl-1\"> Заголовок документа</div>\r\n            </div>\r\n            <div class=\"cursor-pointer it\" :class=\"{ active: tab===1 }\"  @click=\"tab=1\">\r\n              <div class=\"d-inline-block\">1.</div>\r\n              <div class=\"d-inline-block\"> Cтандарт предоставления услуги</div>\r\n            </div>\r\n            <div class=\"cursor-pointer it\" :class=\"{ active: tab===2 }\"  @click=\"tab=2\">\r\n              <div class=\"d-inline-block\">2.</div>\r\n              <div class=\"d-inline-block\"> Формы контроля за исполнением</div>\r\n            </div>\r\n            <div class=\"cursor-pointer it\" :class=\"{ active: tab===3 }\"  @click=\"tab=3\">\r\n              <div class=\"d-inline-block\">3.</div>\r\n              <div class=\"d-inline-block\"> Состав, последовательность действий</div>\r\n            </div>\r\n            <div class=\"cursor-pointer it\" :class=\"{ active: tab===4 }\"  @click=\"tab=4\">\r\n              <div class=\"d-inline-block\">4.</div>\r\n              <div class=\"d-inline-block\"> Формы контроля за исполнением</div>\r\n            </div>\r\n            <div class=\"cursor-pointer it\" :class=\"{ active: tab===5 }\"  @click=\"tab=5\">\r\n              <div class=\"d-inline-block\">5.</div>\r\n              <div class=\"d-inline-block\"> Досудебный порядок обжалования решений </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n\r\n\r\n    </b-container>\r\n    <b-container class=\"text-center\">\r\n      <button @click=\"revision\" class=\"\">Отправить на доработку</button>\r\n      <button @click=\"approve\" class=\"ml-4\">Согласовать</button>\r\n    </b-container>\r\n\r\n    <!-- <b-container>\r\n       <div class=\"md-title mt-4 mb-4 pt-4\">Комментарии к разделу №{{tab}}</div>\r\n        <b-row class=\"task-item w-100\" align-v=\"start\">\r\n          <b-col cols=\"4\" class=\"justify-content-between d-flex align-items-center\">\r\n            <UserPreview />\r\n\r\n            <div class=\"mt-2 u-email small_grey-text\"></div>\r\n          </b-col>\r\n          <b-col cols=\"7\" class=\"mt-2 md-text text-left small_grey-text\">\r\n            Комментроаий текс Комментроаий текс Комментроаий текс Комментроаий текс Комментроаий текс\r\n          </b-col>\r\n          <b-col cols=\"1\" class=\"mt-4 md-text  small_grey-text text-right\">\r\n            02.10.2020\r\n          </b-col>\r\n        </b-row>\r\n      </b-container> -->\r\n\r\n      <div v-if=\"showPopover\">\r\n        <div  v-for=\"comment in comments\" :key=\"comment.secret_id\">\r\n          <b-popover  :target=\"comment.secret_id + '-comment'\" triggers=\"click\" placement=\"top\">\r\n            <template v-slot:title>Комментарий</template>\r\n            <textarea class=\"txtar\" v-model=\"comment.comment\"></textarea>\r\n          </b-popover>\r\n        </div>\r\n      </div>\r\n      \r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import mainService from '../sevices/mainService'\r\nimport { mapGetters } from 'vuex'\r\n// import UserPreview from \"../components/UserPreview\";\r\nimport mainService from '../sevices/mainService'\r\nimport 'quill/dist/quill.core.css'\r\nimport 'quill/dist/quill.snow.css'\r\nimport 'quill/dist/quill.bubble.css'\r\n\r\n// import { quillEditor } from 'vue-quill-editor'\r\n\r\n\r\nexport default {\r\n  name: 'ReglamentReview',\r\n  components: {\r\n    // UserPreview,\r\n    // quillEditor\r\n  },\r\n  props: {\r\n    id: {\r\n      required: false,\r\n      type: String\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'currentUser',\r\n    ])\r\n  },\r\n  data: () => ({\r\n    showPopover: true,\r\n    counter0: 0,\r\n    counter1: 0,\r\n    counter2: 0,\r\n    counter3: 0,\r\n    counter4: 0,\r\n    counter5: 0,\r\n    popover: false,\r\n    text: '',\r\n    content: \"\",\r\n    tab: 0,\r\n    reglament: {\r\n      name: \"\",\r\n      parts: {\r\n        label: {label: \"\", comments: []},\r\n        text1: { label: \"\", text: \"\" },\r\n        text2: { label: \"\", text: \"\" },\r\n        text3: { label: \"\", text: \"\" },\r\n        text4: { label: \"\", text: \"\" },\r\n        text5: { label: \"\", text: \"\" },\r\n      }\r\n    },\r\n    holdStart: null,\r\n    comments: []\r\n  }),\r\n  created() {\r\n    if (this.id) {\r\n      this.getReglament();\r\n    }\r\n  },\r\n  mounted() {\r\n    const qlEditor = document.querySelector(\".ql-editor\");\r\n    qlEditor.addEventListener(\"mousedown\", () => {\r\n      this.holdStart = Date.now()\r\n    });\r\n    qlEditor.addEventListener(\"mouseup\", () => {\r\n      const holdTime = Date.now() - this.holdStart;\r\n      this.holdStart = null;\r\n      if (holdTime > 149) {\r\n        this.getChoosenText();\r\n      }\r\n    });\r\n  },\r\n  watch: {\r\n    tab(num, lastNum) {\r\n      this.setContent(num, lastNum);\r\n      this.showPopover = false;\r\n      this.$nextTick(() => {\r\n        this.showPopover = true;\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    validate(text) {\r\n      const status = this.comments.some((comment) => {\r\n        return comment.tab === this.tab && comment.html_selection.includes(text);\r\n      })\r\n      return status;\r\n    },\r\n    getChoosenText() {\r\n      const text = window.getSelection().focusNode.data || window.getSelection().anchorNode.data;\r\n      if (this.validate(text)) {\r\n        return;\r\n      }\r\n      \r\n      const htmltemplate = `<span class=\"test\" id=\"${this['counter' + this.tab]}-comment\" style=\"color: rgb(231, 0, 0);\">${text}</span>`;\r\n      this.content = this.content.replace(text, htmltemplate);\r\n      setTimeout(() => {\r\n        this.comments.push({\r\n          html_selection: htmltemplate,\r\n          secret_id: this['counter' + this.tab]++,\r\n          comment: '',\r\n          tab: this.tab,\r\n          default_text: text\r\n        })\r\n      }, 200)\r\n    },\r\n    saveInfo(num) {\r\n      this.info[num] = this.$refs.vueditor.getContent();\r\n    },\r\n    setContent(num, lastNum) {\r\n      if (lastNum === 0) {\r\n        this.reglament.parts.label.text = this.content;\r\n      } else {\r\n        this.reglament.parts[`text${lastNum}`].text = this.content;\r\n      }\r\n\r\n      this.content = this.tab === 0 ? this.reglament.parts.label.text : this.reglament.parts[`text${num}`].text;\r\n    },\r\n    getReglament() {\r\n      mainService.getReglament(this.id)\r\n        .then(({data}) => {\r\n          this.reglament = data[0];\r\n          this.content = this.tab === 0 ? this.reglament.parts.label.text : this.reglament.parts[`text${this.tab}`].text;\r\n        })\r\n    },\r\n    saveReglaments() {\r\n      if (this.tab === 0) {\r\n        this.reglament.parts.label.text = this.content;\r\n      } else {\r\n        this.reglament.parts[`text${this.tab}`].text = this.content;\r\n      }\r\n\r\n      if (this.id) {\r\n        mainService.changeReglament(this.reglament);\r\n      }  else {\r\n        mainService.saveReglament(this.reglament);\r\n      }\r\n    },\r\n    revision() {\r\n      mainService.revisions(this.comments, this.id)\r\n        .then(() => {\r\n          this.$router.go(-1)\r\n        })\r\n    },\r\n    approve() {\r\n      mainService.approve(this.id, this.currentUser.id)\r\n        .then(() => {\r\n          this.$router.go(-1)\r\n        })\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style  lang=\"scss\">\r\n  .txtar{\r\n      margin-top: 0px;\r\n      margin-bottom: 0px;\r\n      min-height: 150px;\r\n      width: 250px !important;\r\n  }\r\n\r\n  .quill-editor{\r\n    height: 700px;\r\n  }\r\n\r\n  .ql-editor.custom {\r\n    border: 1px solid #ccc;\r\n    height: 700px;\r\n    max-height: 700px;\r\n    h2 {\r\n      font-size: 1.5rem !important;\r\n    }\r\n    p, ol, li {\r\n      font-size: 13px !important;\r\n    }\r\n  }\r\n\r\n  .task-item{\r\n    min-height: 68px;\r\n    border-bottom: 1px solid #D9D9DE;\r\n  }\r\n  .serchInput{\r\n    width: 576px;\r\n    border: 1px solid #0061D9;;\r\n  }\r\n  .h600{\r\n    min-height: 700px;\r\n    padding-bottom: 63px;\r\n  }\r\n  .items{\r\n    min-width: 350px;\r\n  }\r\n\r\n\r\n  .it{\r\n    font-size: 17px;\r\n    /* // white-space: nowrap; */\r\n    margin-right: 20px;\r\n    margin-top: 30px;\r\n    display: flex;\r\n\r\n  }\r\n\r\n  .active{\r\n    font-weight: bold !important;\r\n    color:  #0050B2 !important;\r\n  }\r\n\r\n  .comment-tx{\r\n    font-size: 15px;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n    padding: 5px;\r\n    outline: none !important;\r\n    min-height: 210px;\r\n  }\r\n\r\n  .mtt-2{\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .mt-minus{\r\n    transform: translateY(-52px) !important;\r\n    margin-top: 0 !important;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReglamentReview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReglamentReview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReglamentReview.vue?vue&type=template&id=5850c001&\"\nimport script from \"./ReglamentReview.vue?vue&type=script&lang=js&\"\nexport * from \"./ReglamentReview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReglamentReview.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReglamentReview.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReglamentReview.vue?vue&type=style&index=0&lang=scss&\"","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}